// Auto-generated from example.html.
// DO NOT EDIT.

library example_html;

import 'dart:html' as autogenerated;
import 'dart:svg' as autogenerated_svg;
import 'package:web_ui/web_ui.dart' as autogenerated;
import 'package:web_ui/observe/observable.dart' as __observe;
import 'lib/input_autocomplete_component_proxy.dart';
import 'dart:html';
import 'dart:async';
import 'package:web_ui/observe.dart';
import '_from_packages/autocomplete_ui/input_autocomplete.dart';


// Original code




var exampleData = new ExampleData();
var exampleDatasource = new ExampleDatasource(exampleData.autocompleteChoices);

void main() {
}


class ExampleData extends Observable  {
  AutocompleteChoice __$selectedchoice;
  AutocompleteChoice get selectedchoice {
    if (__observe.observeReads) {
      __observe.notifyRead(this, __observe.ChangeRecord.FIELD, 'selectedchoice');
    }
    return __$selectedchoice;
  }
  set selectedchoice(AutocompleteChoice value) {
    if (__observe.hasObservers(this)) {
      __observe.notifyChange(this, __observe.ChangeRecord.FIELD, 'selectedchoice',
          __$selectedchoice, value);
    }
    __$selectedchoice = value;
  }
  
  List<String> get autocompleteChoices {
    return ['Test 1', 'Test 2', 'Misc', 'Abcdef', 'Haha', 'Lorem Ipsum', 'Testing 3']..sort();
  }
}




class ExampleDatasource extends SimpleStringDatasource {
  ExampleDatasource(givenChoices) : super(givenChoices);

  Future<Iterable<AutocompleteChoice>> query(String query) {
    var completer = new Completer<Iterable<AutocompleteChoice>>();
    var future = super.query(query);
    
    new Future.delayed(const Duration(seconds: 1), () {
      future.then((coll) => completer.complete(coll));
    });
    return completer.future;
  }
}

// Additional generated code
void init_autogenerated() {
  var __root = autogenerated.document.body;
  final __html0 = new autogenerated.Element.tag('strong');
  var __e0, __e3, __e4, __e5;
  var __t = new autogenerated.Template(__root);
  __e0 = __root.nodes[7];
  __t.oneWayBind(() =>  exampleData.autocompleteChoices , (e) { if (__e0.xtag.choices != e) __e0.xtag.choices = e; }, false, false);
  __t.oneWayBind(() => exampleData.selectedchoice, (e) { if (__e0.xtag.selectedchoice != e) __e0.xtag.selectedchoice = e; }, false, false);
  __t.oneWayBind(() => __e0.xtag.selectedchoice, (__e) { exampleData.selectedchoice = __e; }, false);
  __t.component(new InputAutocompleteComponentProxy()..host = __e0);
  __e3 = __root.nodes[9];
  __t.conditional(__e3, () => exampleData.selectedchoice != null, (__t) {
    var __e2;
    __e2 = __html0.clone(true);
    var __binding1 = __t.contentBind(() =>  exampleData.selectedchoice.key , false);
    __e2.nodes.add(__binding1);
  __t.addAll([new autogenerated.Text('\n      You have selected: '),
      __e2,
      new autogenerated.Text('.\n    ')]);
  });

  __e4 = __root.nodes[13];
  __t.oneWayBind(() =>  exampleDatasource , (e) { if (__e4.xtag.datasource != e) __e4.xtag.datasource = e; }, false, false);
  __t.component(new InputAutocompleteComponentProxy()..host = __e4);
  __e5 = __root.nodes[17].nodes[3];
  __t.oneWayBind(() =>  exampleData.autocompleteChoices , (e) { if (__e5.xtag.choices != e) __e5.xtag.choices = e; }, false, false);
  __t.component(new InputAutocompleteComponentProxy()..host = __e5);
  __t.create();
  __t.insert();
}

//# sourceMappingURL=example.dart.map